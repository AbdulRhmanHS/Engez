(()=>{"use strict";var e,t={357:(e,t,n)=>{var s=n(239),c=n(621),o=n(217),a=n(783);let r=[];class i{constructor(e){this.name=e,this.tasks=[]}appendTask(e){this.tasks.push(e)}deleteTaskObj(e){const t=this.tasks.indexOf(e);-1!==t&&this.tasks.splice(t,1)}}class d{constructor(e){this.name=e,this.completed=!1,this.note="",this.subTasks=[],this.dueDate="",this.time="",this.priority=3}addSubTask(e){if(!e.trim())return;const t=new l(e,this);return this.subTasks.push(t),t}deleteSubTask(e){const t=this.subTasks.indexOf(e);-1!==t&&this.subTasks.splice(t,1)}}class l{constructor(e){this.name=e,this.completed=!1}}async function u(e){await(0,a.hZ)("engez_projects",e),console.log("Data is now safe on the hard drive!")}function m(){return r}function p(e){const t=function(e){const t=new Date,n=new Date(e.dueDate);return(0,s.m)(n,t)}(e),n=new Date,a=new Date(e.dueDate);if(0!==t)return 1===t?"Tomorrow":t>1&&t<7?(0,c.GP)(a,"EEE"):t>=7&&(0,o.s)(a,n)?(0,c.GP)(a,"d MMM"):(0,c.GP)(a,"yyyy-MM-dd")}function k(e,t){const n=t.filter(t=>t.startsWith(e));if(0===n.length)return e;let s=1;return n.forEach(t=>{const n=t.match(/\((\d+)\)$/);if(n){const e=parseInt(n[1]);e>s&&(s=e)}else t.trim()===e.trim()&&(s=Math.max(s,1))}),`${e} (${s+1})`}function b(e,t=document){return Array.from(t.querySelectorAll(".task")).find(t=>t.taskObj===e)}function y(e,t){const n=document.createElement("div");n.classList.add("sub-task"),n.subTaskObj=e;const s=function(e,t){const n=document.createElement("input");return n.classList.add("sub-check"),n.type="checkbox",n.checked=e.completed,n.addEventListener("change",()=>{e.completed=n.checked,function(e){const t=b(e);let n=!1;Array.from(t.querySelectorAll(".sub-task")).every(e=>!0===e.subTaskObj.completed)&&(n=!0),n?(t.taskObj.completed=!0,t.querySelector(".task-info").querySelector(".check-box").checked=!0):(t.taskObj.completed=!1,t.querySelector(".task-info").querySelector(".check-box").checked=!1)}(t)}),n}(e,t),c=function(e,t){const n=document.createElement("span");return n.textContent=e.name,n.addEventListener("click",()=>{n.contentEditable=!0,n.focus()}),n.addEventListener("input",t=>{e.name=t.target.textContent}),n.addEventListener("keydown",e=>{"Enter"===e.key&&(e.preventDefault(),n.contentEditable=!1)}),n.addEventListener("blur",()=>{if(n.textContent.trim())n.contentEditable=!1;else{if(t&&"function"==typeof t.deleteSubTask)t.deleteSubTask(e);else if(t&&t.subTasks){const n=t.subTasks.indexOf(e);-1!==n&&t.subTasks.splice(n,1)}const s=n.closest(".sub-task");s&&s.remove(),function(e){if(!e||!e.subTasks)return;const t=e.subTasks.length>0,n=b(e);if(!n)return;const s=n.querySelector(".subtask-arrow");!t&&s&&s.remove()}(t)}}),n}(e,t);return n.append(s,c),n}function f(e,t,n){const s=function(e,t){let n=e.querySelector(".sub-task-list");return n||(n=document.createElement("div"),n.classList.add("sub-task-list"),n.style.maxHeight="0px",n.style.overflow="hidden",e.append(n),function(e,t){const n=e.classList.contains("task"),s=e.classList.contains("task-edit");if(!n&&!s)return;const c=b(t,e.closest(".project")||e);if(!c||c.querySelector(".subtask-arrow"))return;const o=document.createElement("span");o.innerHTML="<span>â–¶</span>",o.classList.add("subtask-arrow"),o.addEventListener("click",e=>{e.stopPropagation(),function(e){const t=e.querySelector(".sub-task-list");if(!t)return;const n=!e.classList.contains("is-expanded"),s=t.scrollHeight;let c=200+.5*s;c=Math.min(c,400),t.style.transition=`max-height ${c}ms ease-in-out`,n?(t.style.maxHeight=s+"px",e.classList.add("is-expanded")):(t.style.maxHeight="0px",e.classList.remove("is-expanded"))}(c)});const a=c.querySelector(".task-info");a&&a.prepend(o)}(e,t)),n}(t,n),c=y(e,n),o=t.querySelector(".dialog-sub-tasks");o?o.append(c):s.append(c)}function h(e,t,n){t.querySelector(".task-name").textContent=e.name;const s=t.querySelector(".sub-task-list");s&&(s.innerHTML=""),e.subTasks.forEach(n=>f(n,t,e)),n.close(),n.remove()}function E(e,t){const n=e.value.trim();if(!n)return;const s=function(e){return""==e?void 0:new d(e)}(n),c=v(s,t.projectObj);t.projectObj.appendTask(s),t.querySelector(".project-task-list").appendChild(c),e.value=""}function v(e,t){const n=document.createElement("li");n.classList.add("task"),n.taskObj=e;const s=function(e,t,n){const s=document.createElement("div");s.classList.add("task-info");const o=function(e){const t=document.createElement("input");return t.type="checkbox",t.classList.add("check-box"),t.checked=e.taskObj.completed,t.addEventListener("change",()=>{e.taskObj.completed=t.checked,L(e)}),t}(n),a=function(e){const t=document.createElement("span");return t.classList.add("task-name"),t.textContent=` ${e.name} `,t}(e),r=function(e){const t=document.createElement("span");return t.classList.add("task-date"),e.dueDate&&(t.textContent=p(e)),t}(e),i=function(e){const t=document.createElement("span");if(t.classList.add("task-time"),e.time){const[n,s]=e.time.split(":"),o=new Date;o.setHours(parseInt(n),parseInt(s),0),t.textContent=(0,c.GP)(o,"h:mm a")}return t}(e),d=function(e,t,n){const s=document.createElement("button");s.classList.add("task-menu-btn"),s.textContent="â‹®";const o=function(e,t,n){const s=document.createElement("ul");s.classList.add("task-menu"),s.style.display="none";const o=document.createElement("li");o.textContent="Edit",o.addEventListener("click",()=>{(function(e){const t=function(){const e=document.createElement("dialog");return e.classList.add("task-edit"),e}(),n=e.taskObj,s=function(e,t){const n=document.createElement("div");n.classList.add("dialog-left");const s=function(e){const t=document.createElement("span");return t.classList.add("dialog-name"),t.textContent=e.name,t.addEventListener("click",()=>function(e,t,n="name"){let s=t[n];e.contentEditable=!0,e.addEventListener("input",e=>{t[n]=e.target.textContent}),e.addEventListener("blur",()=>{const c=t[n].trim();""===c?(t[n]=s,e.textContent=s):(t[n]=c,s=c),e.contentEditable=!1}),e.addEventListener("keydown",t=>{"Enter"===t.key&&(t.preventDefault(),""!==e.textContent.trim()&&e.blur())})}(t,e)),t}(e),c=function(e){const t=document.createElement("textarea");return t.classList.add("note"),t.placeholder="Note",t.value=e.note,t.addEventListener("input",()=>{e.note=t.value}),t.addEventListener("input",function(){this.style.height="auto",this.style.height=this.scrollHeight+"px"},!1),t}(e),o=function(e,t){const n=document.createElement("button");n.textContent="+ Add a sub-task",n.addEventListener("click",()=>{const n=k("Sub-task",e.subTasks.map(e=>e.name));f(e.addSubTask(n),t,e)});const s=document.createElement("div");return s.classList.add("dialog-sub-tasks"),s.append(n),s}(e,t);return n.append(s,c,o),n}(n,t),o=function(e,t,n){const s=document.createElement("div");s.classList.add("dialog-right");const o=function(e){const t=document.createElement("p");t.textContent="Date";const n=document.createElement("input");n.type="date",n.value=e.dueDate,n.addEventListener("input",()=>{e.dueDate=n.value,b(e).querySelector(".task-info").querySelector(".task-date").textContent=p(e)});const s=document.createElement("div");return s.classList.add("date-field"),s.append(t,n),s}(e),a=function(e){const t=document.createElement("p");t.textContent="Time";const n=document.createElement("input");n.type="time",n.value=e.time,n.addEventListener("input",()=>{e.time=n.value;const[t,s]=n.value.split(":"),o=new Date;o.setHours(t),o.setMinutes(s),o.setSeconds(0),b(e).querySelector(".task-info").querySelector(".task-time").textContent=(0,c.GP)(o,"h:mm a")});const s=document.createElement("div");return s.classList.add("time-field"),s.append(t,n),s}(e),r=function(e,t){const n=document.createElement("div");n.classList.add("priority");const s=document.createElement("label");s.textContent="Priority ",s.setAttribute("for","priority");const c=document.createElement("select");return c.id="priority",["ðŸŸ¥ P1","ðŸŸ§ P2","ðŸŸ¦ P3","â¬› P4"].forEach((e,t)=>{const n=document.createElement("option");n.value=t,n.textContent=e,c.appendChild(n)}),c.value=String(e.priority??3),c.addEventListener("change",n=>{switch(e.priority=Number(n.target.value),e.priority){case 0:t.querySelector(".task-name").style.color="red";break;case 1:t.querySelector(".task-name").style.color="orange";break;case 2:t.querySelector(".task-name").style.color="blue";break;case 3:t.querySelector(".task-name").style.color="black"}}),n.append(s,c),n}(e,t),i=function(e,t,n){const s=document.createElement("div");s.classList.add("save-buttons");const c=function(e,t,n){const s=document.createElement("button");return s.textContent="Mark as complete",s.addEventListener("click",()=>{e.completed=!0,t.querySelector(".check-box").checked=!0,h(e,t,n),L(t)}),s}(e,t,n),o=function(e,t,n){const s=document.createElement("button");return s.textContent="Close",s.addEventListener("click",()=>{h(e,t,n)}),s}(e,t,n);return s.append(c,o),s}(e,t,n);return s.append(o,a,r,i),s}(n,e,t);t.append(s,o),function(e,t){const n=e.querySelector(".dialog-sub-tasks");t.subTasks.forEach(e=>{const t=y(e);n.append(t)})}(t,n),document.body.appendChild(t),t.showModal()})(n),s.style.display="none"});const a=document.createElement("li");return a.textContent="Delete",a.addEventListener("click",()=>{t.deleteTaskObj(e),n.remove(),s.style.display="none"}),s.append(o,a),s}(e,t,n);s.addEventListener("click",e=>function(e,t){e.stopPropagation(),document.querySelectorAll(".task-menu").forEach(e=>{e!==t&&(e.style.display="none")});const n="block"===t.style.display;t.style.display=n?"none":"block"}(e,o));const a=document.createElement("div");return a.classList.add("task-menu-wrapper"),a.append(s,o),a}(e,t,n);return s.append(o,a,r,i,d),function(e,t){if(e)switch(Number(t)){case 0:e.style.color="red";break;case 1:e.style.color="orange";break;case 2:e.style.color="blue";break;default:e.style.color="black"}}(a,e.priority),s}(e,t,n);return n.append(s),n}function L(e){Array.from(e.querySelectorAll(".sub-task")).forEach(t=>{t&&!0===e.taskObj.completed?(t.subTaskObj.completed=!0,t.querySelector(".sub-check").checked=!0):(t.subTaskObj.completed=!1,t.querySelector(".sub-check").checked=!1)})}const g=n.p+"assets/0b000305f5beedf81a5e.svg";function x(e){const t=document.querySelector(".sidebar"),n=document.querySelector(".task-area"),s=document.createElement("div");s.classList.add("project"),s.projectObj=e,function(e){const t=function(){const e=document.createElement("h2");return e.classList.add("greeting"),e.textContent="May Allah guide you to success!",e}(),n=function(e){const t=document.createElement("input");return t.type="text",t.autocomplete="off",t.name="task-input",t.classList.add("task-input"),t.placeholder="Enter task name",t.addEventListener("keydown",n=>{"Enter"===n.key&&E(t,e)}),t}(e),s=function(e,t){const n=document.createElement("button");return n.classList.add("add-task-button"),n.textContent="Add Task",n.addEventListener("click",()=>E(t,e)),n}(e,n),c=document.createElement("div");c.classList.add("project-input"),c.append(n,s);const o=document.createElement("div");o.classList.add("project-task-list"),e.append(t,c,o)}(s);const c=function(e,t){const n=document.createElement("div");n.classList.add("project-tab");const s=document.createElement("p");s.classList.add("project-name"),s.textContent=e.name;const c=function(e,t){const n=document.createElement("button");n.classList.add("project-menu-btn"),n.textContent="â‹®",n.style.display="none";const s=function(e,t){const n=document.createElement("ul");n.classList.add("project-menu"),n.style.display="none";const s=document.createElement("li");s.textContent="Rename",s.addEventListener("click",s=>{s.stopPropagation(),n.style.display="none";const c=t.associatedTab.querySelector(".project-name"),o=document.createElement("input");o.type="text",o.classList.add("edit-project-name"),o.value=c.textContent,c.replaceWith(o),o.focus(),o.select();let a=!1;const r=()=>{if(a)return;a=!0;const t=o.value.trim();""!==t&&(e.name=t,c.textContent=t),o.parentNode&&o.replaceWith(c)};o.addEventListener("keydown",e=>{"Enter"===e.key&&r(),"Escape"===e.key&&(a=!0,o.replaceWith(c))}),o.addEventListener("blur",r)});const c=document.createElement("li");return c.textContent="Delete",c.addEventListener("click",s=>{s.stopPropagation();const c=document.querySelector(".sidebar"),o=Array.from(c.querySelectorAll(".project-tab")).indexOf(t.associatedTab);!function(e){const t=r.indexOf(e);-1!==t&&r.splice(t,1)}(e),t.associatedTab&&t.associatedTab.remove(),t.remove(),n.style.display="none",function(e){const t=document.querySelector(".sidebar").querySelectorAll(".project-tab"),n=document.querySelector(".task-area");t.length>0?t[Math.max(0,e-1)].click():n&&(n.innerHTML="",S())}(o)}),n.append(s,c),n}(e,t);n.addEventListener("click",e=>function(e,t){e.stopPropagation();const n="block"===t.style.display;t.style.display=n?"none":"block"}(e,s));const c=document.createElement("div");return c.classList.add("project-menu-wrapper"),c.append(n,s),c}(e,t);return n.append(s,c),n}(e,s);return s.associatedTab=c,t.appendChild(c),c.addEventListener("click",()=>function(e,t,n){const s=e.querySelector(".project-menu-btn");if(n){n.innerHTML="",Array.from(document.querySelectorAll(".project-tab"),e=>{e.classList.remove("selected-project"),e.querySelector(".project-menu-btn").style.display="none",e.querySelector(".project-menu").style.display="none"});const t=Array.from(document.querySelectorAll(".project-tab")).indexOf(e);localStorage.setItem("lastSelectedIndex",t)}s.style.display="block",e.classList.add("selected-project"),n.append(t)}(c,s,n)),s}function S(){document.querySelector(".task-area").innerHTML=`\n    <div class="empty-state">\n      <img src="${g}" alt="No projects" />\n      <h2>Barakah starts with a plan</h2>\n      <p>Create a project to start your journey of Ihsan.</p>\n      <button onclick="document.getElementById('new-project').click()">Create Project</button>\n    </div>\n  `}!async function(){const e=await async function(){const e=await(0,a.Jt)("engez_projects");return e?(r=e.map(e=>{const t=new i(e.name);return t.tasks=e.tasks.map(e=>{const t=new d(e.name);return Object.assign(t,e),t.subTasks=(e.subTasks||[]).map(e=>{const t=new l(e.name);return Object.assign(t,e),t}),t}),t}),r):(r=[],[])}();if(e&&e.length>0){const t=document.querySelector(".task-area");t&&(t.innerHTML=""),e.forEach(e=>{const t=x(e).querySelector(".project-task-list");e.tasks.forEach(n=>{const s=v(n,e);t.appendChild(s),n.subTasks.forEach(e=>f(e,s,n))})});const n=document.querySelectorAll(".project-tab");if(n.length>0){const e=localStorage.getItem("lastSelectedIndex");n[null!==e&&e<n.length?e:0].click()}}else S()}(),window.addEventListener("beforeunload",()=>{u(m())}),setInterval(()=>{u(m())},3e4),document.getElementById("new-project").addEventListener("click",function(){x(function(e){const t=new i(e);return r.push(t),t}(k("Project",m().map(e=>e.name)))).associatedTab.click()}),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("sidebar-toggle"),t=document.querySelector(".sidebar"),n=document.getElementById("sidebar-overlay"),s=()=>{window.innerWidth<=768?(t.classList.remove("hidden"),t.classList.toggle("active-mobile"),document.body.classList.toggle("mobile-sidebar-open")):t.classList.toggle("hidden")};e.addEventListener("click",s),n.addEventListener("click",s)});const j=()=>{if(!(window.innerWidth<=768)){document.body.classList.remove("mobile-sidebar-open");const e=document.querySelector(".sidebar");e&&e.classList.remove("active-mobile")}};window.addEventListener("resize",j),j()}},n={};function s(e){var c=n[e];if(void 0!==c)return c.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,s),o.exports}s.m=t,e=[],s.O=(t,n,c,o)=>{if(!n){var a=1/0;for(l=0;l<e.length;l++){for(var[n,c,o]=e[l],r=!0,i=0;i<n.length;i++)(!1&o||a>=o)&&Object.keys(s.O).every(e=>s.O[e](n[i]))?n.splice(i--,1):(r=!1,o<a&&(a=o));if(r){e.splice(l--,1);var d=c();void 0!==d&&(t=d)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[n,c,o]},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.p="",(()=>{var e={792:0};s.O.j=t=>0===e[t];var t=(t,n)=>{var c,o,[a,r,i]=n,d=0;if(a.some(t=>0!==e[t])){for(c in r)s.o(r,c)&&(s.m[c]=r[c]);if(i)var l=i(s)}for(t&&t(n);d<a.length;d++)o=a[d],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(l)},n=self.webpackChunkrestaurant_page=self.webpackChunkrestaurant_page||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var c=s.O(void 0,[59],()=>s(357));c=s.O(c)})();